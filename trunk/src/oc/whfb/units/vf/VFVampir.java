package oc.whfb.units.vf;import oc.BuildaHQ;import oc.BuildaMenu;import oc.Eintrag;import oc.OptionsEinzelUpgrade;import oc.RuestkammerStarter;public class VFVampir extends Eintrag {	RuestkammerStarter rkKraft;	RuestkammerStarter rkMount;	RuestkammerStarter rkBanner;	RuestkammerStarter rkMagic;	RuestkammerStarter rkEquipment;		RuestkammerStarter rkLore;	boolean genSelected = false;	OptionsEinzelUpgrade oGen;	boolean astSelected = false;	public VFVampir() {		name = BuildaHQ.translate("Vampir");		grundkosten = 100;		seperator(12);		add(oGen = new OptionsEinzelUpgrade(ID, randAbstand, cnt, "", BuildaHQ.translate("General"), 0, false));				seperator();		rkMount = new RuestkammerStarter(ID, randAbstand, cnt, "VFMount", "");		rkMount.initKammer(false, true, false, false);		rkMount.setButtonText(BuildaHQ.translate("Reittier"));		add(rkMount);				seperator();				rkEquipment = new RuestkammerStarter(ID, randAbstand, cnt, "VFEquipment", "");		rkEquipment.initKammer(false);		rkEquipment.setButtonText(BuildaHQ.translate("Ausrüstung"));		add(rkEquipment);		seperator();		rkMagic = new RuestkammerStarter(ID, randAbstand, cnt, "VFMagicItems", "");		rkMagic.initKammer(true, false, false, false);		rkMagic.setButtonText(BuildaHQ.translate("Magische Gegenstände"));		add(rkMagic);		seperator();		rkKraft = new RuestkammerStarter(ID, randAbstand, cnt, "VFKraft", "");		rkKraft.initKammer(false);		rkKraft.setButtonText(BuildaHQ.translate("Vampirkräfte"));		add(rkKraft);		seperator();		rkBanner = new RuestkammerStarter(ID, randAbstand, cnt, "VFBanner", BuildaHQ.translate("Armeestandartenträger"));		rkBanner.initKammer(true, false, false);		rkBanner.setGrundkosten(25);		add(rkBanner);		seperator();		rkLore = new RuestkammerStarter(ID, randAbstand, cnt, reflectionKennung+"MagicLores", "");		rkLore.initKammer(true,false);		rkLore.setButtonText(BuildaHQ.translate("Lehren der Magie"));		add(rkLore);		complete();	}	@Override	public void refreshen() {		// Unique entry: AST		boolean astGlobal = ( BuildaHQ.getCountFromInformationVector("VFast") > 0 ? true : false );		if(astGlobal && !astSelected) rkBanner.setAktiv(false);		else rkBanner.setAktiv(true);		if(rkBanner.isSelected()) {			astSelected = true;			BuildaHQ.setInformationVectorValue("VFast", 1);		} else {			if(astSelected) {				astSelected = false;				BuildaHQ.setInformationVectorValue("VFast", 0);				BuildaHQ.refreshEntries(2);			}		}		rkMagic.getKammer().switchEntry(BuildaHQ.translate("Rüstung der Nacht"), rkMount.getKosten() == 0);		String KraftValue = (String) ((VFKraft) rkKraft.getKammer()).getSpecialValue();		rkMount.getKammer().switchEntry(BuildaHQ.translate("Ritter der Nacht"), KraftValue.equals(BuildaHQ.translate("Ritter der Nacht")) || KraftValue.equals(BuildaHQ.translate("beides")));				rkMount.getKammer().refreshen();				rkMagic.setAktiv(rkBanner.getKosten() <= 25);		if ( rkBanner.getKosten() <= 25 ) { 			rkMagic.setAktiv(!KraftValue.equals(BuildaHQ.translate("Spektrale Gestalt")) && !KraftValue.equals(BuildaHQ.translate("beides")));		}				rkLore.getKammer().specialAction(((VFKraft) rkKraft.getKammer()).getWissen());		rkLore.setAbwaehlbar(false);				// Unique entry: GENERAL		boolean genGlobal = ( BuildaHQ.getCountFromInformationVector("Gen") > 0 ? true : false );		if(genGlobal && !genSelected) oGen.setAktiv(false);		else oGen.setAktiv(true);		if(oGen.isSelected()) {			genSelected = true;			BuildaHQ.setInformationVectorValue("Gen", 1);		} else {			if(genSelected) {				genSelected = false;				BuildaHQ.setInformationVectorValue("Gen", 0);				BuildaHQ.refreshEntries(2);			}		}				if ( !astGlobal ) rkBanner.setAktiv(!oGen.isSelected());		if ( !genGlobal ) oGen.setAktiv(!rkBanner.isSelected());				/*if (ico != null ) panel.remove(ico);		if ( BuildaMenu.bilderAneigen.isSelected() ) {			ico = BuildaHQ.createPictureJLabel(BuildaHQ.IMAGEPFAD + reflectionKennung.toLowerCase() + "/" + getClass().getSimpleName() + JPG);			ico.setLocation((290 - (ico.getSize().width - 100) / 2), 30);			panel.add(ico);		} */				boolean aktiv = ((VFKraft) rkKraft.getKammer()).getAvatar();		rkEquipment.setAktiv(aktiv);		rkEquipment.setAbwaehlbar(!aktiv);						if(((VFKraft) rkKraft.getKammer()).getRoteWut()){			((VFEquipment)rkEquipment.getKammer()).setZweihaender(false);		} else {			((VFEquipment)rkEquipment.getKammer()).setZweihaender(true);		}				if(((VFEquipment)rkEquipment.getKammer()).getZweihaender()){			((VFKraft) rkKraft.getKammer()).setRoteWut(false);		} else {			((VFKraft) rkKraft.getKammer()).setRoteWut(true);		}			}	@Override	public void deleteYourself() {		if(astSelected) {			BuildaHQ.setInformationVectorValue("VFast", 0);		}		if(genSelected) {			BuildaHQ.setInformationVectorValue("Gen", 0);		}		super.deleteYourself();	}}